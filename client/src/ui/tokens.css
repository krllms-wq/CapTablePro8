/* Design tokens and breakpoints */
:root {
  /* Breakpoints */
  --breakpoint-xs: 480px;
  --breakpoint-sm: 768px;
  --breakpoint-md: 1024px;
  --breakpoint-lg: 1280px;
  --breakpoint-xl: 1536px;

  /* Touch targets */
  --touch-target-min: 44px;
  
  /* Spacing tokens for mobile */
  --spacing-mobile-xs: 0.25rem;
  --spacing-mobile-sm: 0.5rem;
  --spacing-mobile-md: 1rem;
  --spacing-mobile-lg: 1.5rem;
  --spacing-mobile-xl: 2rem;

  /* Typography scale for mobile */
  --text-xs-mobile: clamp(0.75rem, 2vw, 0.875rem);
  --text-sm-mobile: clamp(0.875rem, 2.5vw, 1rem);
  --text-base-mobile: clamp(1rem, 3vw, 1.125rem);
  --text-lg-mobile: clamp(1.125rem, 3.5vw, 1.25rem);
  --text-xl-mobile: clamp(1.25rem, 4vw, 1.5rem);
  --text-2xl-mobile: clamp(1.5rem, 5vw, 2rem);

  /* Safe area insets for iOS */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);

  /* Shadow for scroll indicators */
  --scroll-shadow-start: linear-gradient(90deg, rgba(0,0,0,0.1) 0%, transparent 20px);
  --scroll-shadow-end: linear-gradient(270deg, rgba(0,0,0,0.1) 0%, transparent 20px);
}

/* Media query helpers */
.xs-only { display: block; }
.sm-only { display: none; }
.md-only { display: none; }
.lg-only { display: none; }
.xl-only { display: none; }

@media (min-width: 481px) and (max-width: 767px) {
  .xs-only { display: none; }
  .sm-only { display: block; }
}

@media (min-width: 768px) and (max-width: 1023px) {
  .xs-only { display: none; }
  .sm-only { display: none; }
  .md-only { display: block; }
}

@media (min-width: 1024px) and (max-width: 1279px) {
  .xs-only { display: none; }
  .sm-only { display: none; }
  .md-only { display: none; }
  .lg-only { display: block; }
}

@media (min-width: 1280px) {
  .xs-only { display: none; }
  .sm-only { display: none; }
  .md-only { display: none; }
  .lg-only { display: none; }
  .xl-only { display: block; }
}

/* Responsive utilities */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

.scroll-shadows {
  position: relative;
}

.scroll-shadows::before,
.scroll-shadows::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 20px;
  pointer-events: none;
  z-index: 1;
}

.scroll-shadows::before {
  left: 0;
  background: var(--scroll-shadow-start);
}

.scroll-shadows::after {
  right: 0;
  background: var(--scroll-shadow-end);
}

/* Mobile-first responsive padding */
.responsive-padding {
  padding: var(--spacing-mobile-md);
}

@media (min-width: 768px) {
  .responsive-padding {
    padding: var(--spacing-mobile-lg);
  }
}

@media (min-width: 1280px) {
  .responsive-padding {
    padding: 1.5rem; /* Preserve desktop padding */
  }
}

/* Mobile-first improvements for iPhone */
@media (max-width: 768px) {
  /* Better mobile cards */
  .mobile-card {
    @apply rounded-lg border border-neutral-200 bg-white shadow-sm;
    margin-bottom: 1rem;
  }
  
  /* Mobile-friendly buttons */
  .mobile-button {
    @apply min-h-[44px] px-4 py-2 text-base;
    touch-action: manipulation;
  }
  
  /* Mobile table scroll */
  .mobile-table-scroll {
    @apply -mx-4 px-4 overflow-x-auto;
    scroll-snap-type: x mandatory;
  }
  
  /* Improved mobile typography */
  .mobile-heading {
    @apply text-xl font-semibold leading-tight;
  }
  
  .mobile-subheading {
    @apply text-base font-medium;
  }
  
  .mobile-body {
    @apply text-sm leading-relaxed;
  }
}

/* Dark mode improvements for mobile */
@media (max-width: 768px) {
  .dark .mobile-card {
    @apply bg-neutral-800 border-neutral-700;
  }
}

/* Enhanced scroll behavior for mobile */
.mobile-scroll-smooth {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* iOS-specific improvements */
@supports (-webkit-touch-callout: none) {
  .ios-safe-area {
    padding-top: constant(safe-area-inset-top);
    padding-top: env(safe-area-inset-top);
  }
  
  .ios-safe-area-bottom {
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
  }
}