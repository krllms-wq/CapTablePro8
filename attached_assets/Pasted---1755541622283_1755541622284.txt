Задача: добавить адаптацию под мобильные устройства в существующее веб-приложение, не меняя внешний вид и поведение на десктопе.

Ограничения и допущения
- Определи стек автоматически. Если React+TypeScript+Vite — продолжай с ним; иначе выдай эквивалент.
- Не вводи тяжёлых CSS-фреймворков. Используй существующие утилиты/модули CSS, Radix/Headless UI при наличии.
- Десктопный UI должен выглядеть и работать «как сейчас» при ширине ≥ 1280px (lg/desktop). Любые изменения выше этого брейкпоинта запрещены.

Цели
- Включить полноценный mobile/tablet опыт без регресса на десктопе.
- Поддержать брейкпоинты: 
  xs ≤ 480, sm 481–767, md 768–1023, lg 1024–1279, xl ≥ 1280.
- Минимальная ширина интерактивов на тач-экранах — 44×44 px; фокус-кольца видимые.

Скоуп (внеси только необходимое)
1) Токены и брейкпоинты
   - Добавь /ui/tokens.(css|ts) с CSS-переменными и картой брейкпоинтов.
   - Введи media queries и (по возможности) container queries для адаптивных блоков.

2) AppShell (шапка/навигация/контент)
   - На xs/sm: левое сайд-меню сворачивается в «гамбургер» (slide-over) или нижнюю таб-навигацию.
   - На md: компактное сайд-меню (иконки + тултипы).
   - На lg/xl: оставить текущее полное меню без изменений.
   - Шапка уплотняется на мобильном (меньше паддинги, скрыть необязательные элементы в overflow меню).

3) Списки/таблицы
   - На xs/sm включи горизонтальный скролл с «shadow» по краям и persistent действиями (⋯).
   - Скрывай второстепенные столбцы через «column visibility»; порядок колонок сохраняй per-device в localStorage.
   - Суммарные/ключевые метрики вынеси в sticky subheader.

4) Формы
   - Поля занимают 100% ширины на xs/sm; группа полей складывается в колонки только с md.
   - Добавь inputMode/autoComplete для мобильной клавиатуры (numeric, email, tel).
   - Избегай fixed-кнопок поверх системной клавиатуры; добавь safe-area инсет (env(safe-area-inset-*), iOS).

5) Навигация и жесты
   - Клавиатурные шорткаты сохрани; добавь «/» для фокуса поиска.
   - На мобильном — свайп для открытия меню опционально, но отключаемо (respect prefers-reduced-motion).
   - Все модальные — с фокус-ловушкой и закрытием по ESC/Back.

6) Медиа и перфоманс на мобильном
   - Введи responsive images (srcset/sizes), жёсткие width/height атрибуты для предотвращения CLS.
   - Ленивая загрузка тяжёлых графиков/виджетов ниже md.
   - Включи meta viewport и корректную типографику (clamp для шрифтов).

7) Безопасность и доступность
   - Контраст ≥ 4.5:1, фокус-кольца видимые на всех брейкпоинтах.
   - Хит-боксы 44×44 px, aria-label для иконок, роль/названия у нав-элементов.
   - Не показывать чувствительные данные в мобильных превью, если включена маскировка.

Deliverables
- Патчи файлов (diff-only), минимум зависимостей.
- Новые/изменённые файлы:
  /ui/tokens.(css|ts) — токены + брейки
  /ui/components/AppShell.(tsx|vue|svelte) — адаптивный каркас
  /ui/components/ResponsiveTable.(tsx|…) — скролл, видимость колонок
  /ui/components/Drawer.(tsx|…) — мобильное меню
  /ui/hooks/useMedia.ts — хелпер брейкпоинтов
  Обновления ключевых страниц для использования новых примитивов.
- Обнови index.html: <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">.

Тесты (обязательные)
- E2E/Playwright (или аналог):
  1) xs (390×844): меню — drawer, таблица — скролл, действия доступны.
  2) md (768×1024): компактное меню, корректный фокус-порядок.
  3) xl (1440×900): вид/раскладка идентичны текущему (скриншотный тест или DOM-ассерт по классам/стилям).
- Юнит-тесты:
  - useMedia брейкпоинты и SSR-безопасность.
  - Переключение видимости колонок с сохранением prefs per-device.
  - Компонент Drawer: фокус-ловушка и ARIA.

Критерии приёмки
- Lighthouse (Mobile): Performance ≥ 80, Accessibility ≥ 95, Best Practices ≥ 95.
- На ширине ≥ 1280px визуальные изменения отсутствуют (снимок/снапшот без диффа).
- 0 критических нарушений axe на ключевых страницах.
- Нет горизонтального скролла на форме/детальных страницах при xs/sm (кроме таблиц с явным скроллом).
- Клик-зоны соответствуют 44×44 px, все икон-кнопки озвучиваемы скрин-ридером.

Вывод
- Верни единый unified diff-патч без лишнего текста.
- Коммить малыми, проверяемыми шагами: 
  1) tokens + брейки → 2) AppShell + Drawer → 3) ResponsiveTable → 4) формы → 5) перфоманс/изображения → 6) тесты.

Начни с:
1) Добавь /ui/tokens.(css|ts) с брейкпоинтами и экспортом useMedia().
2) Обнови каркас приложения: на xs/sm включи Drawer-навигацию, на xl оставь текущую.
3) Заменить таблицу на адаптивную с управлением колонками и горизонтальным скроллом.
4) Добавь meta viewport и safe-area учёт.
5) Прогон тестов для xs/md/xl.