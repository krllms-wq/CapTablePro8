<!DOCTYPE html>
<html>
<head>
    <title>Dashboard Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 5px; }
        .info { background: #d1ecf1; border: 1px solid #bee5eb; padding: 15px; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="success">
        <h2>üéâ DASHBOARD TEST PAGE</h2>
        <p>If you can see this page, the server is working!</p>
    </div>
    
    <div class="info">
        <h3>API Test Results:</h3>
        <div id="results">Loading...</div>
    </div>

    <script>
        async function testAPI() {
            try {
                // Test login
                const loginResponse = await fetch('/api/auth/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email: 'work@me.com', password: '123456' })
                });
                const loginData = await loginResponse.json();
                
                if (loginData.token) {
                    // Test company API
                    const companyResponse = await fetch('/api/companies/5ceacfa9-6b26-4a00-a3b7-966e6e477a31', {
                        headers: { 'Authorization': `Bearer ${loginData.token}` }
                    });
                    const companyData = await companyResponse.json();
                    
                    document.getElementById('results').innerHTML = `
                        <p>‚úÖ Login successful</p>
                        <p>‚úÖ Company API working</p>
                        <p><strong>Company:</strong> ${companyData.name}</p>
                        <p><strong>Description:</strong> ${companyData.description}</p>
                        <p><strong>Demo:</strong> ${companyData.isDemo}</p>
                        <p><a href="/companies/${companyData.id}" style="background: blue; color: white; padding: 10px; text-decoration: none; border-radius: 5px;">Go to Company Dashboard</a></p>
                    `;
                } else {
                    document.getElementById('results').innerHTML = '<p>‚ùå Login failed</p>';
                }
            } catch (error) {
                document.getElementById('results').innerHTML = `<p>‚ùå Error: ${error.message}</p>`;
            }
        }
        
        testAPI();
    </script>
</body>
</html>